!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=85)}({1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={id:"",vibesIDs:[],notifications:[],notificationsLoading:!0,routes:{vibes:"/user/vibes",attributes:"user/attributes",notifications:"user/notifications"},getID:function(){var t=this;return axios.get(this.routes.attributes).then(function(e){t.id=e.data.id}).catch(function(t){return console.log(t)})},getVibesIDs:function(){var t=this;return axios.get(this.routes.vibes).then(function(e){t.vibesIDs=e.data}).catch(function(t){return console.log(t)})},getAccessToken:function(){var t=this,e=new Date;e.setHours(e.getHours()-1);var n=e.getTime();return new Promise(function(e,i){if(!(localStorage.token_set_at>=n))return axios.get(t.routes.attributes).then(function(t){localStorage.token_set_at=new Date(t.data.token_set_at).getTime(),localStorage.access_token=t.data.access_token,e(localStorage.access_token)}).catch(function(t){i(t.response.data.errors)});e(localStorage.access_token)})},getNotifications:function(){var t=this;return axios.get(this.routes.notifications).then(function(e){t.notifications=e.data,t.notificationsLoading=!1}).catch(function(t){console.log(t)})},notficationsIsEmpty:function(){return 0===Object.keys(this.notifications).length},updateVibesIDs:function(t){t.auto_dj?this.vibesIDs=this.vibesIDs.filter(function(e){return e!==t.id}):this.vibesIDs.push(t.id)},allVibesIDsExcept:function(t){return this.vibesIDs.filter(function(e){return e!==t})}};window.user=i,e.default=i},85:function(t,e,n){t.exports=n(1)}});