!function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s(s.s=190)}({190:function(e,t,s){e.exports=s(5)},5:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={id:null,deviceID:null,myVibesIDs:[],memberOfVibesIDs:[],routes:{attributes:"user/attributes"},getAttributes:function(){var e=this;return axios.get(this.routes.attributes).then(function(t){e.id=t.data.id,e.deviceID=t.data.device_id,e.myVibesIDs=t.data.my_vibes,e.memberOfVibesIDs=t.data.member_of_vibes}).catch(function(e){return console.log(e)})},getAccessToken:function(){var e=this,t=new Date;t.setHours(t.getHours()-1);var s=t.getTime();return new Promise(function(t,i){if(!(localStorage.token_set_at>=s))return axios.get(e.routes.attributes).then(function(e){localStorage.token_set_at=new Date(e.data.token_set_at).getTime(),localStorage.access_token=e.data.access_token,t(localStorage.access_token)}).catch(function(e){i(e.response.data.errors)});t(localStorage.access_token)})},updateVibesIDs:function(e){this.removeVibeFromVibesIDs(e.id),this.addVibeToVibesIDs(e)},removeVibeFromVibesIDs:function(e){this.myVibesIDs=this.myVibesIDs.filter(function(t){return t!==e}),this.memberOfVibesIDs=this.memberOfVibesIDs.filter(function(t){return t!==e})},addVibeToVibesIDs:function(e){e.auto_dj?this.myVibesIDs.push(e.id):this.memberOfVibesIDs.push(e.id)},sortVibesIDsOrder:function(e){this.sortMemberOfVibesIDs(e),this.sortMyVibesIDs(e)},sortMemberOfVibesIDs:function(e){var t=this,s=e.map(function(e){return t.memberOfVibesIDs.filter(function(t){return t===e.id})[0]});this.memberOfVibesIDs=s.filter(function(e){return void 0!==e})},sortMyVibesIDs:function(e){var t=this,s=e.map(function(e){return t.myVibesIDs.filter(function(t){return t===e.id})[0]});this.myVibesIDs=s.filter(function(e){return void 0!==e})}};window.user=i,t.default=i}});